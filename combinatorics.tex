\documentclass{article}

% preamble
\def\npart{III}
\def\nyear{2023}
\def\nterm{Michaelmas}
\def\nlecturer{Prof B\'ela Bollob\'as}
\def\ncourse{Combinatorics}
\def\draft{Incomplete}

\input{header}
\swapnumbers
\reversemarginpar

\usetikzlibrary{positioning, decorations.pathmorphing, decorations.text, calc, backgrounds, fadings}
\tikzset{node/.style = {circle,draw,inner sep=0.8mm}}

\makeindex[intoc]

\setcounter{section}{-1}

% and here we go!
\begin{document}
\maketitle

\tableofcontents

\clearpage

\section{Introduction}

For a finite set $A$, we write its cardinality $\abs A$.

For a graph $G = (V, E)$ and $A, B \subseteq V$, we denote $\Gamma(A) = \{b | \exists a \in A, a \sim b\}$ the set of neighbors of $A$ and $e(A, B)$ the number of edges between $A$ and $B$.

\clearpage

\section{Basic Results}

\subsection{Chains, Antichains and Scattered Sets of Vectors}

\newlec

During WW2, Littlewood and Offord were interested in roots of polynomials with random coefficients. They came up with the following neat theorem.

\begin{thm}[Littlewood-Offord, 1943]
  If $z_1, \dots, z_n \in \C$ with $\abs{z_i} \ge 1$, then, for any disk $D$ of radius $r$,
  $$\#\{\eps \in \{-1, 1\}^n | \sum_i \eps_i z_i \in D\} \le c \log n \frac{2^n}{\sqrt n}$$
  for some constant $c$ depending only on $r$.
\end{thm}

Upon seeing this theorem, Erd\H os immediately knew he could drastically improve the bound if the $z_i$ were real.

\begin{thm}[Erd\H os, 1945]
  If $x_1, \dots, x_n \in \R$, $\abs{x_i} \ge 1$, then, for any interval $I$ of length $2$,
  $$\#\{\eps \in \{-1, 1\}^n | \sum_i \eps_i z_i \in I\} \le \binom n{\frac n 2}$$
\end{thm}

This is best possible, as we see by taking $x_1 = \dots = x_n = 1$.

Let $G$ be a bipartite graph with parts $U$ and $W$. A {\bf complete matching} from $U$ to $W$ is an injective function $f : U \mor W$ such that $\for u \in U, u \sim f(u)$. \\
If $G$ has a complete matching, then certainly $\abs A \le \abs{\Gamma(A)}$. Surprisingly, this is enough.

\begin{thm}[K\H onig-Egerv\'ary-Hall Theorem, Hall's Marriage Theorem]\label{thm:hall}
  $$G \text{ has a complete matching } \iff \for A \subseteq U, \abs A \le \abs{\Gamma(A)}$$
\end{thm}
\begin{proof}
  Exercise
\end{proof}

Let $\mathcal F = (F_1, \dots, F_m)$ where the $F_i$ are finite sets. We say $a_1, \dots, a_m$ is a {\bf set of distinct representatives}, aka {\bf SDR} if they are distinct and $\for i, a_i \in F_i$. Certainly, if $\mathcal F$ has SDR, then $\abs I \le \abs{\bigcup_{i \in I} F_i}$ for all $I \subseteq [m]$.

\begin{thm}
  $$\mathcal F \text{ is a SDR } \iff \for I \subseteq [m], \abs I \le \abs{\bigcup_{i \in I} F_i}$$
\end{thm}
\begin{proof}
  Define a bipartite graph $G$ with parts $[m]$ and $\bigcup_i F_i$ by $i \sim a \iff a \in F_i$. For all $I \subseteq [m]$, $\abs I \le \abs{\bigcup_{i \in I} F_i} = \abs{\Gamma(I)}$, so Theorem \ref{thm:hall} applies.
\end{proof}

\begin{thm}
  If $G$ is a bipartite graph with parts $U$, $W$ such that $\deg(u) \ge \deg(w)$ for all $u \in U, w \in W$, then there is a complete matching from $U$ to $W$.
\end{thm}
\begin{proof}
  Find $d$ such that $\deg(u) \ge d \ge \deg(w)$ for all $u \in U, w \in W$. For all $A \subseteq U$, we have
  $$d\abs A \le e(A, \Gamma(A)) \le d\abs{\Gamma(A)}$$
  Hence $\abs A \le \abs{\Gamma(A)}$. We're done by Theorem \ref{thm:hall}.
\end{proof}

For $A \subseteq U, B \subseteq W$, define $w(A) = \frac{\abs A}{\abs U}, w(B) = \frac{\abs B}{\abs W}$.

Say a bipartite graph $G$ with parts $U, W$ is {\bf $(k, \ell)$-biregular} if
$\deg(u) = k, \deg(w) = \ell$ for all $u \in U, w \in W$.

\begin{lemma}
  If $G$ is biregular with parts $U, W$ and $A \subseteq U$, then $w(A) \le w(\Gamma(A))$.
\end{lemma}
\begin{proof}
  First, $k\abs U = e(G) = \ell\abs W$. Second,
  $$k\abs A = e(A, \Gamma(A)) \le \ell\abs{\Gamma(A)}$$
  Dividing the inequality by the equality gives the result.
\end{proof}

\newlec

\begin{cor}
  Let $G$  be a $(k, \ell)$-biregular graph with parts $U, W$. If $k \ge \ell$ (or equivalently $\abs U \le \abs W$), then there is a complete matching from $U$ to $W$.
\end{cor}

\begin{cor}\label{cor:layer-inj}
  If $\abs{s - \frac n 2} \le \abs{r - \frac n 2}$, then there exists an injection $f : X^{(r)} \hookrightarrow X^{(s)}$ such that either
  \begin{itemize}
    \item $r \le s$ and $A \subseteq f(A)$ for all $A \in X^{(r)}$
    \item $s \le r$ and $f(A) \subseteq A$ for all $A \in X^{(r)}$
  \end{itemize}
\end{cor}

\begin{thm}[Sperner, 1928]
  Let $\mathcal A \subseteq \mathcal P(X)$ be an antichain. Then $\abs{\mathcal A} \le \binom n{\floor{\frac n 2}}$
\end{thm}
\begin{proof}
  A chain and an antichain can intersect in at most one element. If we manage to partition $\mathcal P(X)$ into $\binom n{\floor{\frac n 2}}$ chains, we win. \\
  But we can repeatedly use Corollary \ref{cor:layer-inj} to construct matchings $X^{(0)}$ to $X^{(1)}$, $X^{(1)}$ to $X^{(2)}$, ..., $X^{(\ceil{\frac n 2} - 1)}$ to $X^{(\ceil{\frac n 2})}$ and $X^{(n)}$ to $X^{(n - 1)}$, $X^{(n - 1)}$ to $X^{(n - 2)}$, ..., $X^{(\floor{\frac n 2} + 1)}$ to $X^{(\floor{\frac n 2})}$, then ``stack'' the matchings together to make chains (if an element of the middle layer). Each chain goes through $X^{(\floor{frac n 2})}$, so we made $\binom n {\floor{\frac n 2}}$.
\end{proof}

We can now understand the observation of Erd\H os (1945) about Littlewood-Offord (1943).

\begin{cor}
  Let $x_1, \dots, x_n \in \R$ be such that $\abs{x_i} \ge 1$. Then at most $\binom n{\floor{\frac n 2}}$ of the sums $\sum_i \eps_i x_i$, $\eps_i = \pm 1$ fall into the interior of an interval $I$ of length $2$.
\end{cor}
\begin{proof}
  WLOG $\for i, x_i \ge 1$. Set $F_\eps = \{i | \eps_i = 1\}$. $\{F\eps | \sum_i \eps_i x_i \in I\}$ is an antichain (if $F_\eps \subsetneq F_{\eps'}$, then $\sum_i \eps'_i x_i \ge \sum_i \eps_i x_i + 2$, so both sums can't lie in $I$).
\end{proof}

\begin{defi}
  A partial order $P$ is {\bf graded} if it has a partition $P_i$ such that
  \begin{itemize}
    \item if $x < y$, $x \in P_i$, $y \in P_j$, then $i < j$ (in particular each $P_i$ is an antichain)
    \item if $x < y$, $x \in P_i$, $y \in P_j$, $i + 2 \le j$, then there exists $z$ such that $x < z < y$.
  \end{itemize}
  For $a \in P$, we call the unique $i$ for which $a \in P_i$ the {\bf grade} or {\bf rank} of $a$. \\
  A graded order is {\bf regular} if for every $i$ there exists $p_i$ such that every $x \in P_i$ is less than exactly $p_k$ elemenets of $P_{i + 1}$. \\
  For $A \subseteq P$, define $A_i = A \cap P_i$ and $w(A) = \sum_i \frac{\abs{A_i}}{\abs{P_i}}$.
\end{defi}

TODO: Insert picture

\begin{thm}
  Let $A$ be an antichain in a connected regular graded order $P$. Then $w(A) \le 1$.
\end{thm}
\begin{proof}
  Homework. Solution is written in white below: \\
  \color{white}
  The regularity condition means that for each $i$ the bipartite graph $G_i$ with parts $P_{i - 1}, P_i$ and $x \sim y \iff x < y$ is $(p_{i - 1}, q)$-biregular. In particular, $w(A_i) \le w(\Gamma_{G_i}(A_i))$. \\
  Now, write $r$ the maximal rank of an element of $A$ and define
  $$B := A \setminus A_r \cup \Gamma_{G_r}(A_r)$$
  The fact that $A$ is an antichain means that $B$ is an antichain as well and $\Gamma_{G_r}(A_r)$ is disjoint from $A_{r - 1}$. Hence
  \begin{eqnarray*}
    w(A)
    & = & w(A_r) + w(A_{r - 1}) + \sum_{i < r - 1} w(A_i) \\
    & \le & w(\Gamma_{G_r}(A_r)) + w(A_{r - 1}) + \sum_{i < r - 1} w(A_i) \\
    & = & w(B_{r - 1}) + \sum_{i < r - 1} w(B_i) \\
    & = & w(B)
  \end{eqnarray*}
  We therefore have decreased the maximal rank without decreasing the weight. We can repeat the process until the antichain is contained in some $P_i$, in which case its weight is clearly at most $1$.
\end{proof}

\newlec

\printindex
\end{document}